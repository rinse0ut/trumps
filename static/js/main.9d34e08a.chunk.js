(this.webpackJsonptrumps=this.webpackJsonptrumps||[]).push([[0],{154:function(e,t,a){e.exports=a.p+"static/media/ant.2fe8faf8.jpeg"},155:function(e,t,a){e.exports=a.p+"static/media/ben.6cba428d.jpeg"},156:function(e,t,a){e.exports=a.p+"static/media/dan.abf052b9.jpeg"},157:function(e,t){e.exports="data:image/jpeg;base64,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"},158:function(e,t,a){e.exports=a.p+"static/media/didun.2cfccad8.jpeg"},159:function(e,t,a){e.exports=a.p+"static/media/grant.39b9be86.jpeg"},160:function(e,t,a){e.exports=a.p+"static/media/mike.006e457e.jpeg"},161:function(e,t,a){e.exports=a.p+"static/media/morgan.9c9ff2b1.jpeg"},162:function(e,t,a){e.exports=a.p+"static/media/nick.c153051e.jpeg"},163:function(e,t,a){e.exports=a.p+"static/media/pearce.2064c0f2.jpeg"},164:function(e,t,a){e.exports=a.p+"static/media/rob.5110024b.jpeg"},165:function(e,t,a){e.exports=a.p+"static/media/scouse.d02204f4.jpeg"},166:function(e,t,a){e.exports=a.p+"static/media/stevooo.965acec9.jpeg"},167:function(e,t,a){e.exports=a.p+"static/media/sunny.c00e8603.jpeg"},168:function(e,t,a){e.exports=a.p+"static/media/will.32aef3bd.jpeg"},169:function(e,t,a){e.exports=a.p+"static/media/vinnie.bb7ff1a7.jpeg"},184:function(e,t,a){e.exports=a(203)},190:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(44),c=a.n(l),o=(a(189),a(190),a(16)),u=a(12),i=a(171),s=a(9),m=a(125);a(191),a(194);m.initializeApp({apiKey:"AIzaSyDPk2j-y4TB9ex6MWD0jZmHXsN2aw6VZv4",authDomain:"trumps-53976.firebaseapp.com",databaseURL:"https://trumps-53976.firebaseio.com",projectId:"trumps-53976",storageBucket:"trumps-53976.appspot.com",messagingSenderId:"822188667084",appId:"1:822188667084:web:56d4680cf508a02ea55269",measurementId:"G-FNX5HRRFLY"});var d=m.auth(),p=m.firestore();function E(){return d.signOut()}function A(e){return p.collection(e)}var g=Object(n.createContext)(void 0);function v(){var e=Object(n.useContext)(g);if(void 0===e)throw new Error("Expected context value to be set");return e}var b=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(s.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){var e=function(e){return d.onAuthStateChanged(e)}((function(e){o(e)}));return function(){e()}}),[]),r.a.createElement(g.Provider,{value:{currentUser:c}},t)};var f=function(e){var t=e.component,a=Object(i.a)(e,["component"]),n=v().currentUser;return console.log("AUTH_ROUTE USER",n),r.a.createElement(u.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/signin"})}}))},h=a(10),j=a.n(h),y=a(22),C=a(18),O=a(11),w=a(215),k=a(217),x=a(221),S=a(37),I=a(149),T=a(38),D=a(58);function N(){var e=Object(S.a)(["\n  position: fixed;\n  height: 50;\n  bottom: 0;\n  right: 0;\n  padding: 10px;\n"]);return N=function(){return e},e}function F(){var e=Object(S.a)(["\n  padding-top: 60px;\n"]);return F=function(){return e},e}function M(){var e=Object(S.a)(["\n  background: WhiteSmoke;\n  min-height: 100vh;\n  max-height: 100%;\n"]);return M=function(){return e},e}function B(){var e=Object(S.a)(["\n  position: fixed;\n  left: 0;\n  margin-left: 5px;\n"]);return B=function(){return e},e}function U(){var e=Object(S.a)(["\n  color: white;\n  margin: 0;\n"]);return U=function(){return e},e}function K(){var e=Object(S.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  height: 50px;\n  background: #1b9a59;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n"]);return K=function(){return e},e}var P=T.a.header(K()),R=T.a.h1(U()),Q=T.a.div(B()),H=T.a.div(M()),Y=T.a.div(F()),G=T.a.div(N()),L=Object(I.a)();function W(){var e=Object(u.g)(),t=Object(u.h)();console.log("LOCATION",t);var a=!["/home","/signin","/singout"].includes(t.pathname);return r.a.createElement(P,null,a&&r.a.createElement(Q,{onClick:function(){return e.goBack()}},r.a.createElement(D.a,{name:"angle left",size:"large",inverted:!0})),r.a.createElement(R,null,r.a.createElement(L.Target,null)))}var z=function(e){var t=e.children;return v().currentUser,r.a.createElement(H,null,r.a.createElement(W,null),r.a.createElement(Y,null,t))},V=function(){var e=Object(n.useState)({username:"",email:"",password:"",error:""}),t=Object(s.a)(e,2),a=t[0],l=t[1];console.log("SIGN UP");var c=function(e){var t;l(Object(O.a)(Object(O.a)({},a),{},(t={},Object(C.a)(t,e.target.name,e.target.value),Object(C.a)(t,"error",""),t)))},o=function(){var e=Object(y.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c=a.email,o=a.password,d.createUserWithEmailAndPassword(c,o);case 4:if(!(null===(n=e.sent)||void 0===n?void 0:n.user)){e.next=16;break}return console.log("USER",a),e.next=9,n.user.updateProfile({displayName:a.username});case 9:return e.next=11,p.collection("users").doc(n.user.uid).set({username:a.username,email:a.email});case 11:return r={url:"http://localhost:3000/"},e.next=14,n.user.sendEmailVerification(r);case 14:l(Object(O.a)(Object(O.a)({},a),{},{error:"Welcome ".concat(a.username,". To continue please verify your email.")})),E();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),l(Object(O.a)(Object(O.a)({},a),{},{error:e.t0.message}));case 21:case"end":return e.stop()}var c,o}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(w.a,null,r.a.createElement(L.Source,null,"Sign Up"),r.a.createElement("br",null),r.a.createElement(k.a,{onSubmit:o},r.a.createElement(k.a.Field,null,r.a.createElement("input",{type:"text",placeholder:"Username",name:"username",onChange:c}),r.a.createElement("br",null)),r.a.createElement(k.a.Field,null,r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",onChange:c}),r.a.createElement("br",null)),r.a.createElement(k.a.Field,null,r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",onChange:c}),r.a.createElement("br",null)),r.a.createElement(x.a,{type:"submit"},"Sign Up")),a.error&&r.a.createElement("h4",null,a.error))};var X=function(){var e=v().currentUser,t=Object(u.g)();e&&t.push("/home");var a=Object(n.useState)({email:"",password:"",error:""}),l=Object(s.a)(a,2),c=l[0],i=l[1],m=function(e){var t;i(Object(O.a)(Object(O.a)({},c),{},(t={},Object(C.a)(t,e.target.name,e.target.value),Object(C.a)(t,"error",""),t)))},p=function(){var e=Object(y.a)(j.a.mark((function e(a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,l=c.email,o=c.password,d.signInWithEmailAndPassword(l,o);case 4:if(null===(r=e.sent)||void 0===r||null===(n=r.user)||void 0===n?void 0:n.emailVerified){e.next=9;break}return i(Object(O.a)(Object(O.a)({},c),{},{error:"Please verify your email before to continue"})),e.next=9,E();case 9:t.push("/home"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i(Object(O.a)(Object(O.a)({},c),{},{error:e.t0.message}));case 15:case"end":return e.stop()}var l,o}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(w.a,null,r.a.createElement(L.Source,null,"Log In"),r.a.createElement("br",null),r.a.createElement(k.a,{onSubmit:p},r.a.createElement(k.a.Field,null,r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",onChange:m}),r.a.createElement("br",null)),r.a.createElement(k.a.Field,null,r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",onChange:m}),r.a.createElement("br",null)),r.a.createElement(x.a,{type:"submit"},"Log in")),r.a.createElement("br",null),r.a.createElement(o.b,{to:"/signup"},"Sign up"),c.error&&r.a.createElement("h4",null,c.error))},Z=function(){var e=function(){var e=Object(y.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(x.a,{type:"button",onClick:e},"Log Out")},J=a(153);var q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(n.useState)(),r=Object(s.a)(a,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){if(e){if(t)return p.collection(e).onSnapshot((function(e){var t,a=[],n=e.docs,r=Object(J.a)(n);try{for(r.s();!(t=r.n()).done;){var l=t.value;console.log("Document found at path: ".concat(l.ref.path));var o=l.id,u=l.data();a.push(Object(O.a)({id:o},u))}}catch(i){r.e(i)}finally{r.f()}c(a)}));!function(){a.apply(this,arguments)}()}function a(){return(a=Object(y.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e).get();case 2:a=t.sent,n=a.docs.map((function(e){console.log("DOC",e.id,e.data());var t=e.id,a=e.data();return Object(O.a)({id:t},a)})),console.log("DATA",n),c(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}),[]),l},$=a(136),_=a(219);function ee(){var e=Object(S.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: -70px;\n"]);return ee=function(){return e},e}var te=T.a.div(ee());var ae=function(){return r.a.createElement(te,null,r.a.createElement(D.a,{loading:!0,name:"spinner",size:"big"}))};function ne(e){var t=e.title,a=e.description,n=e.url;return r.a.createElement(_.a.Item,null,r.a.createElement(_.a.Content,null,r.a.createElement(_.a.Header,null,n?r.a.createElement(o.b,{to:n},t):t),a))}function re(e){var t=e.children;return r.a.createElement(_.a.Item,null,r.a.createElement(_.a.Content,null,r.a.createElement(_.a.Header,null,t)))}var le=function(e){var t=e.title,a=e.items,n=e.renderItem;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.Source,null,t),r.a.createElement($.a,null,r.a.createElement(_.a,{divided:!0,relaxed:"very",size:"large"},a.length>0?a.map(n||ne):r.a.createElement(re,null,"No games")))):r.a.createElement(ae,null)};var ce=function(){var e=q("users"),t=null===e||void 0===e?void 0:e.map((function(e){return{title:"".concat(e.username),description:"".concat(e.email)}}));return r.a.createElement(le,{title:"Friends",items:t})};function oe(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1];return r.a.createElement(k.a,null,r.a.createElement(k.a.Input,null,r.a.createElement("input",{placeholder:"New Pack",value:a,onChange:function(e){l(e.target.value)}})),r.a.createElement(x.a,{color:"blue",onClick:function(){p.collection("categories").add({title:a,stats:{},cards:{}})}},"Create"))}var ue=function(){var e=q("categories",!0);return console.log("CATS",e),r.a.createElement(w.a,null,r.a.createElement(le,{title:"Packs",items:e,renderItem:function(e){return r.a.createElement(re,null,r.a.createElement("span",null,e.title,":  "),r.a.createElement(o.b,{to:"/category/".concat(null===e||void 0===e?void 0:e.id,"/stats")}," Stats")," |",r.a.createElement(o.b,{to:"/category/".concat(null===e||void 0===e?void 0:e.id,"/cards")}," Cards"))}}),r.a.createElement(oe,null))};var ie=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(n.useState)(),l=Object(s.a)(r,2),c=l[0],o=l[1];return console.log("USE DOC",c),Object(n.useEffect)((function(){if(e){if(a)return p.collection(e).doc(t).onSnapshot((function(e){var t=e.data();console.log("SNAP SHOT",t),o(t)}));!function(){n.apply(this,arguments)}()}function n(){return(n=Object(y.a)(j.a.mark((function a(){var n,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A(e).doc(t).get();case 2:n=a.sent,r=n.data(),console.log("FETCH DATA",r),o(r);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}}),[]),c};function se(e){var t=e.categoryId,a=e.category,l=e.statKey,c=e.stat,o=Object(n.useState)(c.title),u=Object(s.a)(o,2),i=u[0],m=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Field,null,r.a.createElement("input",{value:i,onChange:function(e){m(e.target.value)}})),r.a.createElement(x.a,{color:"blue",onClick:function(){var e={};e["stats.".concat(l)]={title:i},p.collection("categories").doc(t).update(e)}},"Update"),r.a.createElement(x.a,{color:"red",onClick:function(){for(var e in delete a.stats[l],a.cards)delete a.cards[e][l];p.collection("categories").doc(t).set(a)}},"Delete"),r.a.createElement("br",null),r.a.createElement("br",null))}function me(e){var t=e.categoryId,a=e.category,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],u=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Field,null,r.a.createElement("input",{value:o,placeholder:"New Stat",onChange:function(e){u(e.target.value)}})),r.a.createElement(x.a,{color:"blue",onClick:function(){a.stats[o]={title:o},p.collection("categories").doc(t).set(a)}},"Create"),r.a.createElement("br",null),r.a.createElement("br",null))}var de=function(){var e=Object(u.i)().categoryId,t=ie("categories",e,!0);return console.log("USE DOC RESULT",t),t?r.a.createElement(w.a,null,r.a.createElement(L.Source,null,"Stats"),r.a.createElement(k.a,null,r.a.createElement(me,{categoryId:e,category:t}),r.a.createElement("hr",null),r.a.createElement("br",null),Object.entries(t.stats).map((function(a){var n=Object(s.a)(a,2),l=n[0],c=n[1];return r.a.createElement(se,{categoryId:e,category:t,statKey:l,stat:c})})))):r.a.createElement(ae,null)},pe=a(218),Ee=["ant","ben","dan","didun","dt","grant","mike","morgan","nick","pearce","rob","scouse","stevooo","sunny","will","vinnie"];function Ae(e){var t=e.categoryId,a=e.category,l=e.cardKey,c=e.cardItem,o=Object(n.useState)(c),u=Object(s.a)(o,2),i=u[0],m=u[1],d=function(e){m(Object(O.a)(Object(O.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",value:i.title,onChange:d})),r.a.createElement("br",null),r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"countryCode"},"Country Code"),r.a.createElement("select",{name:"countryCode",value:i.countryCode,onChange:d},r.a.createElement("option",{value:"bb"},"Barbados"),r.a.createElement("option",{value:"fr"},"France"),r.a.createElement("option",{value:"ru"},"Russia"),r.a.createElement("option",{value:"gb sct"},"Scotland"),r.a.createElement("option",{value:"uk"},"UK"),r.a.createElement("option",{value:"us"},"USA"),r.a.createElement("option",{value:"gb wls"},"Wales"))),Object.entries(a.stats).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:a},n.title),r.a.createElement("input",{name:a,type:"number",value:i[a],onChange:d})),r.a.createElement("br",null))})),r.a.createElement(x.a,{color:"blue",onClick:function(){var e={};e["cards.".concat(l)]=i,p.collection("categories").doc(t).update(e)}},"Update"),r.a.createElement(x.a,{color:"red",onClick:function(){console.log("CAT PRE DELETE",a,l),delete a.cards[l],console.log("CAT POST DELETE",a),p.collection("categories").doc(t).set(a)}},"Delete"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null))}function ge(e){var t=e.categoryId,a=e.category,l=Object(n.useState)({title:"",countryCode:""}),c=Object(s.a)(l,2),o=c[0],u=c[1],i=function(e){u(Object(O.a)(Object(O.a)({},o),{},Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",value:o.title,onChange:i})),r.a.createElement("br",null),r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"countryCode"},"Country Code"),r.a.createElement("select",{name:"countryCode",value:o.countryCode,onChange:i},r.a.createElement("option",{value:"bb"},"Barbados"),r.a.createElement("option",{value:"fr"},"France"),r.a.createElement("option",{value:"ru"},"Russia"),r.a.createElement("option",{value:"gb sct"},"Scotland"),r.a.createElement("option",{value:"uk"},"UK"),r.a.createElement("option",{value:"us"},"USA"),r.a.createElement("option",{value:"gb wls"},"Wales"))),r.a.createElement("br",null),r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"img"},"Image"),r.a.createElement("select",{name:"img",value:o.img,onChange:i},r.a.createElement("option",{value:""},"Select..."),Ee.map((function(e){return r.a.createElement("option",{value:e},e)})))),r.a.createElement("br",null),Object.entries(a.stats).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:a},n.title),r.a.createElement("input",{name:a,type:"number",onChange:i})),r.a.createElement("br",null))})),r.a.createElement(x.a,{color:"blue",onClick:function(){a.cards[o.title]=o,p.collection("categories").doc(t).set(a)}},"Create"),r.a.createElement("br",null),r.a.createElement("br",null))}var ve=function(){var e=Object(u.i)().categoryId,t=ie("categories",e,!0);if(console.log("USE DOC RESULT",t),!t)return r.a.createElement(ae,null);var a=[{menuItem:"Create",render:function(){return r.a.createElement(w.a,null,r.a.createElement(k.a,null,r.a.createElement(ge,{categoryId:e,category:t})))}},{menuItem:"Edit (".concat(Object.keys(t.cards).length,")"),render:function(){return r.a.createElement(w.a,null,r.a.createElement(k.a,null,Object.entries(t.cards).map((function(a){var n=Object(s.a)(a,2),l=n[0],c=n[1];return r.a.createElement(Ae,{categoryId:e,category:t,cardKey:l,cardItem:c})}))))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.Source,null,"Cards"),r.a.createElement(pe.a,{panes:a}),";")};var be=function(){var e=v().currentUser,t=Object(u.g)(),a=q("categories"),l=q("users"),c=Object(n.useState)({categoryId:"",player2Id:""}),o=Object(s.a)(c,2),i=o[0],m=o[1],d=function(e){m(Object(O.a)(Object(O.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))};function E(){return(E=Object(y.a)(j.a.mark((function n(){var r,c,o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=a&&Object.values(a).find((function(e){return e.id===i.categoryId})))||!e){n.next=7;break}return c=null===l||void 0===l?void 0:l.find((function(e){return e.id===i.player2Id})),n.next=5,p.collection("games").add({pack:r,p1Id:e.uid,p1Username:e.displayName,p2Id:i.player2Id,p2Username:c.username,p1TurnNumber:0,p2TurnNumber:0,turnNumber:0,created:Date.now()});case 5:o=n.sent,t.push("/game/".concat(o.id));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return console.log("CHALLENGE FORM",i),console.log("CHALLENGE DATA",a,l),a&&l?r.a.createElement(w.a,null,r.a.createElement(L.Source,null,"Challenge"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(k.a,null,r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"player2Id"},"Friend"),r.a.createElement("select",{name:"player2Id",value:i.player2Id,onChange:d},r.a.createElement("option",{value:""},"Select..."),Object.values(l).map((function(e){return r.a.createElement("option",{value:e.id},e.username)})))),r.a.createElement(k.a.Field,null,r.a.createElement("label",{htmlFor:"categoryId"},"Pack"),r.a.createElement("select",{name:"categoryId",value:i.categoryId,onChange:d},r.a.createElement("option",{value:""},"Select..."),Object.values(a).map((function(e){return r.a.createElement("option",{value:e.id},e.title)}))))),r.a.createElement("br",null),r.a.createElement(x.a,{color:"blue",onClick:function(){return E.apply(this,arguments)}},"Create")):r.a.createElement(ae,null)};var fe=function(){var e=Object(u.g)(),t=v().currentUser,a=q("games",!0),n=null===a||void 0===a?void 0:a.filter((function(e){return(null===t||void 0===t?void 0:t.uid)===e.p1Id||(null===t||void 0===t?void 0:t.uid)===e.p2Id})).sort((function(e,t){return t.created-e.created})).map((function(e){var t,a,n,r,l,c=null===(t=e.turns["turn".concat(e.turnNumber)])||void 0===t||null===(a=t.p1Cards)||void 0===a?void 0:a.length,o=null===(n=e.turns["turn".concat(e.turnNumber)])||void 0===n||null===(r=n.p2Cards)||void 0===r?void 0:r.length;return{title:"".concat(null===e||void 0===e?void 0:e.p1Username," (").concat(c,") vs ").concat(null===e||void 0===e?void 0:e.p2Username," (").concat(o,")"),description:"".concat(null===e||void 0===e||null===(l=e.pack)||void 0===l?void 0:l.title,": Round ").concat(null===e||void 0===e?void 0:e.turnNumber),url:"/game/".concat(null===e||void 0===e?void 0:e.id)}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{title:"Games",items:n}),r.a.createElement(Z,null),r.a.createElement(G,null,r.a.createElement(x.a,{circular:!0,color:"green",icon:"add",size:"huge",onClick:function(){return e.push("/challenge")}})))},he=a(43),je=a(135),ye=a(220),Ce=a(216),Oe=a(170),we=a(154),ke=a.n(we),xe=a(155),Se=a.n(xe),Ie=a(156),Te=a.n(Ie),De=a(157),Ne=a.n(De),Fe=a(158),Me=a.n(Fe),Be=a(159),Ue=a.n(Be),Ke=a(160),Pe=a.n(Ke),Re=a(161),Qe=a.n(Re),He=a(162),Ye=a.n(He),Ge=a(163),Le=a.n(Ge),We=a(164),ze=a.n(We),Ve=a(165),Xe=a.n(Ve),Ze=a(166),Je=a.n(Ze),qe=a(167),$e=a.n(qe),_e=a(168),et=a.n(_e),tt=a(169),at=a.n(tt),nt={ant:ke.a,ben:Se.a,dan:Te.a,didun:Me.a,dt:Ne.a,grant:Ue.a,mike:Pe.a,morgan:Qe.a,nick:Ye.a,pearce:Le.a,rob:ze.a,scouse:Xe.a,stevooo:Je.a,sunny:$e.a,will:et.a,vinnie:at.a};function rt(e){var t,a=e.title,n=e.value,l=e.statKey,c=e.selectedKey,o=e.onSelectStat,u=e.result,i=e.player;return l===c&&0===u?t="warning":l===c&&u===i?t="positive":l===c&&u!==i&&(t="negative"),r.a.createElement(ye.a.Row,{key:l,onClick:o},r.a.createElement(lt,{status:t},a),r.a.createElement(lt,{status:t},n))}function lt(e){var t=e.status,a=e.children;return r.a.createElement(ye.a.Cell,{positive:"positive"===t,negative:"negative"===t,warning:"warning"===t},a)}var ct=function(e){var t=e.card,a=e.stats,n=e.selectedStatKey,l=e.player,c=e.result,o=e.disabled;return r.a.createElement(ye.a,{celled:!0,unstackable:!0,size:"small",selectable:!o,style:{width:"70%",marginLeft:5}},r.a.createElement(ye.a.Header,null,r.a.createElement(ye.a.Row,null,r.a.createElement(ye.a.HeaderCell,null,t.title.toUpperCase()),r.a.createElement(ye.a.HeaderCell,{textAlign:"center"},t.countryCode&&r.a.createElement(Ce.a,{name:t.countryCode})))),r.a.createElement(ye.a.Body,null,r.a.createElement(ye.a.Row,null,r.a.createElement(ye.a.Cell,{colSpan:"2"},r.a.createElement(Oe.a,{src:nt[t.img],fluid:!0}))),Object.entries(a).sort((function(e,t){return t[0].localeCompare(e[0])})).reverse().map((function(a){var o=Object(s.a)(a,2),u=o[0],i=o[1].title,m=t[u];return r.a.createElement(rt,{key:u,statKey:u,selectedKey:n,title:i,value:m,result:c,player:l,onSelectStat:function(){return e.onSelectStat({statKey:u,title:i,value:m})}})}))))};function ot(){var e=Object(S.a)(["\n  float: ",";\n  width: 90%;\n  margin: 5px;\n  padding: 5px;\n  border-radius: ",";\n  background: ",";\n  border: 1px solid grey;\n  color: ",";\n"]);return ot=function(){return e},e}function ut(e){var t,a,r=ie("games",e,!0),l=(null===r||void 0===r||r.pack.stats,Object(n.useState)()),c=Object(s.a)(l,2),o=c[0],u=(c[1],v().currentUser),i=null===u||void 0===u?void 0:u.uid,m=null;(null===r||void 0===r?void 0:r.p1Id)===i?(m=1,t=null===r||void 0===r?void 0:r.p1Username,a=null===r||void 0===r?void 0:r.p2Username):(null===r||void 0===r?void 0:r.p2Id)===i&&(m=2,t=null===r||void 0===r?void 0:r.p2Username,a=null===r||void 0===r?void 0:r.p1Username);Math.floor(2*Math.random());Object(n.useEffect)((function(){var t,a=null===r||void 0===r||null===(t=r.pack)||void 0===t?void 0:t.cards,n=null===r||void 0===r?void 0:r.turns;if(a&&!n){var l=function(e){for(var t=[],a=Object.keys(e),n=a.length/2,r=0;r<n;r++){var l=Math.floor(Math.random()*n),c=a.splice(l,1),o=Object(s.a)(c,1)[0];t.push(o)}return[t,a]}(a),c=Object(s.a)(l,2),o=c[0],u=c[1];!function(){i.apply(this,arguments)}()}function i(){return(i=Object(y.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.collection("games").doc(e).update({turnNumber:1,p1TurnNumber:1,p2TurnNumber:1,"turns.turn1":{id:1,player:1,p1Cards:o,p2Cards:u,drawCards:[],statKey:null,result:null}});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}),[e,r]);var d=null===r||void 0===r?void 0:r.turnNumber,E=r?r["p".concat(m,"TurnNumber")]:1,A=Object(n.useState)(E),g=Object(s.a)(A,2),b=g[0],f=g[1];b!==E&&f(E);var h=Object(n.useCallback)((function(){var t=b+1;function a(){return(a=Object(y.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.collection("games").doc(e).update(Object(C.a)({},"p".concat(m,"TurnNumber"),t));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}t>d&&console.log("HANDLE NEXT TURN STOP?",t,d),function(){a.apply(this,arguments)}(),f(t)}),[b,m]);m||console.error("PLAYER NOT FOUND");var O=r&&function(e,t){if(!e.turns||0===t)return null;var a="turn".concat(t);return a in e.turns?e.turns[a]:null}(r,b),w=null===O||void 0===O?void 0:O.player,k=r&&it(r,b,1),x=r&&it(r,b,2),S=r&&it(r,b,0);console.log("DRAW CARDS",S);var I=Object(n.useState)(null),T=Object(s.a)(I,2),D=T[0],N=T[1],F=Object(n.useCallback)((function(e){w===m&&N(e)}),[w,m]),M=Object(n.useCallback)((function(){if(!D||0===k.length||0===x.length)return null;var t,a,n,l=[],c=D.statKey,o=Object(je.a)(k),u=o[0],i=o.slice(1),s=Object(je.a)(x),d=s[0],E=s.slice(1),A=Number(null===r||void 0===r?void 0:r.pack.cards[u][c]),g=Number(null===r||void 0===r?void 0:r.pack.cards[d][c]);if(!A||!g)return null;function v(){return(v=Object(y.a)(j.a.mark((function r(){var o,u,i;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!=b){r.next=3;break}return console.log("TURN COUNT UNDEFINED"),r.abrupt("return",null);case 3:return u=b+1,i=0===t?m:t,r.next=7,p.collection("games").doc(e).update((o={},Object(C.a)(o,"turns.turn".concat(b,".statKey"),c),Object(C.a)(o,"turns.turn".concat(b,".result"),t),Object(C.a)(o,"turns.turn".concat(u),{id:u,player:i,p1Cards:a,p2Cards:n,drawCards:l,statKey:null,result:null}),Object(C.a)(o,"turnNumber",u),o));case 7:case"end":return r.stop()}}),r)})))).apply(this,arguments)}A>g?(t=1,a=[].concat(Object(he.a)(i),[d],Object(he.a)(S),[u]),n=Object(he.a)(E)):A<g?(t=2,a=Object(he.a)(i),n=[].concat(Object(he.a)(E),[u],Object(he.a)(S),[d])):(t=0,a=Object(he.a)(i),n=Object(he.a)(E),l=S.length>0?[].concat(Object(he.a)(S),[u,d]):[u,d]),function(){v.apply(this,arguments)}(),N(null)}),[D,r,k,x,S,b]);if(!r||!k||!x)return{game:r,turn:O,currentTurn:b,currentPlayer:m,topCards:[],handleSelectStat:F};var B=Object(s.a)(k,1)[0],U=null===r||void 0===r?void 0:r.pack.cards[B],K=Object(s.a)(x,1)[0],P=[U,null===r||void 0===r?void 0:r.pack.cards[K]],R={turnId:null===O||void 0===O?void 0:O.id,turnNo:r.turnNumber,p1TurnNo:r.p1TurnNumber,p2TurnNo:r.p2TurnNumber,currentPlayer:m,turnPlayer:w,turn:O};return console.table({turnId:null===O||void 0===O?void 0:O.id,turnNo:r.turnNumber,p1TurnNo:r.p1TurnNumber,p2TurnNo:r.p2TurnNumber,currentPlayer:m,turnPlayer:w}),console.table(null===r||void 0===r?void 0:r.turns),console.log(R),console.log(D&&!(null===O||void 0===O?void 0:O.result),D,!(null===O||void 0===O?void 0:O.result)),{game:r,error:o,turn:O,currentTurn:b,turnPlayer:w,currentPlayer:m,currentUsername:t,opponentUsername:a,topCards:P,selectedStat:D,handleSelectStat:F,handleTurn:M,handleNextTurn:h,debug:R}}function it(e,t,a){return e.turns&&0!==t?0===a?e.turns["turn".concat(t)].drawCards:(console.log("TURN DUMP",t),e.turns["turn".concat(t)]["p".concat(a,"Cards")]):[]}var st=T.a.div(ot(),(function(e){return"right"===e.align?"right":"left"}),(function(e){return"right"===e.align?"10px 0px 10px 10px":"0px 10px 10px 10px"}),(function(e){return"right"===e.align?"#dcf8c6":"white"}),(function(e){return e.color}));function mt(e){var t=e.username,a=e.children,n=e.align,l=void 0===n?"left":n,c=e.color;return r.a.createElement(st,{align:l,color:c},r.a.createElement("b",null,t,":"),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"black"}},a))}var dt=function(){var e,t,a,n=ut(Object(u.i)().gameId),l=n.game,c=(n.error,n.turn),o=n.currentTurn,i=n.turnPlayer,m=n.currentPlayer,d=n.currentUsername,p=n.opponentUsername,E=n.topCards,A=n.selectedStat,g=n.handleSelectStat,v=n.handleTurn,b=n.handleNextTurn,f=(n.debug,Object(s.a)(E,2)),h=f[0],j=f[1],y=1===m?h:j,C=1===m?j:h,O=null===c||void 0===c?void 0:c.statKey;return(null===c||void 0===c?void 0:c.result)===m?(e="You won the round! \u2705",t="\ud83d\ude03",a="\ud83d\ude22"):0===(null===c||void 0===c?void 0:c.result)?(e="You drew the round! \u2194\ufe0f",t="\ud83d\ude2e",a="\ud83d\ude2e"):(null===c||void 0===c?void 0:c.result)&&(e="You lost the round! \u274c",t="\ud83d\ude22",a="\ud83d\ude03"),l?y||C?C?y?r.a.createElement(w.a,null,r.a.createElement(L.Source,null,"Game On!"),m===i?r.a.createElement(mt,{username:"Games Master",color:"green"},"Round ",o,". Your turn ",d,". Tap that stat!"):r.a.createElement(mt,{username:"Games Master",color:"green"},"Round ",o,". ",p,"'s turn."),O&&r.a.createElement(r.a.Fragment,null,m===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{username:d,align:"right",color:"CornflowerBlue"},l.pack.stats[O].title,": ",y[O]),r.a.createElement(mt,{username:p,color:"orange"},l.pack.stats[O].title,": ",C[O]," ",a)):r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{username:p,color:"orange"},l.pack.stats[O].title,": ",C[O]),r.a.createElement(mt,{username:d,align:"right",color:"CornflowerBlue"},l.pack.stats[O].title,": ",y[O]," ",t))),e&&r.a.createElement(mt,{username:"Games Master",color:"green"},e),y&&r.a.createElement(ct,{card:y,stats:l.pack.stats,selectedStatKey:null===c||void 0===c?void 0:c.statKey,player:m,result:(null===c||void 0===c?void 0:c.result)&&c.result,onSelectStat:g,disabled:null!=(null===c||void 0===c?void 0:c.result)||i!==m}),r.a.createElement(G,null,A&&o===l.turnNumber&&m===i&&r.a.createElement(x.a,{circular:!0,color:"green",icon:"play",size:"huge",onClick:v}),o<l.turnNumber&&null!=(null===c||void 0===c?void 0:c.result)&&r.a.createElement(x.a,{circular:!0,color:"green",icon:"fast forward",size:"huge",onClick:b}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.Source,null,"Game Over!"),r.a.createElement(mt,{username:"Games Master",color:"green"},"Good game! ",p," wins! \u2620\ufe0f")):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.Source,null,"Game Over!"),r.a.createElement(mt,{username:"Games Master",color:"green"},"Good game! ",d," wins! \ud83c\udf89")):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.Source,null,"Game Over!"),r.a.createElement(mt,{username:"Games Master",color:"green"},"Good game! It's a draw! \ud83e\udd37\u200d\u2642\ufe0f")):r.a.createElement(ae,null)};var pt=function(){return r.a.createElement(w.a,null,r.a.createElement(L.Source,null,"About"),r.a.createElement("h2",null,"Top Trumps"),r.a.createElement("p",null,"This is a classic Top Trumps game of the of the Pioneers for the Pioneers."),r.a.createElement("p",null,"You can create your own pack of cards with custom stats and play your friends over the interwebs."),r.a.createElement("p",null,"Each game will run the current version of the pack of cards you select."),r.a.createElement("p",null,"You can play in realtime or by correspondence."),r.a.createElement("p",null,"If you have any suggestion for improvments or bug reports please whatsapp or email ",r.a.createElement("a",{href:"mailto:djthomson@gmail.com"},"DT")),r.a.createElement("h2",null,"Release v1.0.0 The Flying Scotsman"),r.a.createElement("ul",null,r.a.createElement("li",null,"User Authentication"),r.a.createElement("li",null,"2 player mode using Firebase Cloud DB with realtime updates"),r.a.createElement("li",null,"Create and manage card packs"),r.a.createElement("li",null,"Whats app mobile theme")))};function Et(){var e=Object(u.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{title:"Top Trumps \ud83d\udecb\ufe0f",items:[{title:"Games",url:"/games"},{title:"Packs",url:"/categories"},{title:"Friends",url:"/friends"},{title:"About",url:"/about"}]}),r.a.createElement(Z,null),r.a.createElement(G,null,r.a.createElement(x.a,{circular:!0,color:"green",icon:"add",size:"huge",onClick:function(){return e.push("/challenge")}})))}var At=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/signup",component:V}),r.a.createElement(u.b,{path:"/signin",component:X}),r.a.createElement(f,{path:"/home",component:Et}),r.a.createElement(f,{path:"/about",component:pt}),r.a.createElement(f,{path:"/friends",component:ce}),r.a.createElement(f,{path:"/categories",component:ue}),r.a.createElement(f,{path:"/challenge",component:be}),r.a.createElement(f,{path:"/games",component:fe}),r.a.createElement(f,{path:"/game/:gameId",component:dt}),r.a.createElement(f,{path:"/category/:categoryId/stats",component:de}),r.a.createElement(f,{path:"/category/:categoryId/cards",component:ve}),r.a.createElement(f,{path:"/signout",component:Z}),r.a.createElement(u.a,{from:"/",to:"/signin"}))};var gt=function(){return r.a.createElement(o.a,null,r.a.createElement(b,null,r.a.createElement(z,null,r.a.createElement(At,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(gt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.9d34e08a.chunk.js.map