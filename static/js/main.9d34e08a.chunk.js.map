{"version":3,"sources":["img/ant.jpeg","img/ben.jpeg","img/dan.jpeg","img/dt.jpeg","img/didun.jpeg","img/grant.jpeg","img/mike.jpeg","img/morgan.jpeg","img/nick.jpeg","img/pearce.jpeg","img/rob.jpeg","img/scouse.jpeg","img/stevooo.jpeg","img/sunny.jpeg","img/will.jpeg","img/vinnie.jpeg","services/firestore.js","components/AuthProvider.tsx","components/AuthRoute.tsx","components/Layout.tsx","components/SignUp.tsx","components/SignIn.tsx","components/SignOut.tsx","hooks/useCollection.tsx","components/Loading.tsx","components/List.tsx","pages/FriendsPage.tsx","pages/CategoryPage.tsx","hooks/useDocument.tsx","pages/StatsPage.tsx","pages/CardsPage.tsx","pages/ChallengePage.tsx","pages/GamesPage.tsx","components/Card.tsx","pages/GamePage.tsx","pages/AboutPage.tsx","components/Router.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","signOut","getCollection","path","collection","AuthContext","createContext","undefined","useAuthContext","value","useContext","Error","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","unsubsribe","user","onAuthStateChanged","Provider","AuthRoute","Component","component","rest","console","log","render","routeProps","to","HeaderContainer","styled","header","H1","h1","LeftAction","div","MainContainer","ContentContainer","Footer","TitleBar","createTeleporter","Header","history","useHistory","location","useLocation","showBackButton","includes","pathname","onClick","goBack","Icon","name","size","inverted","Target","Layout","props","SignUp","username","email","password","error","setUser","handleChange","e","target","handleSubmit","a","preventDefault","createUserWithEmailAndPassword","result","updateProfile","displayName","doc","uid","set","myURL","url","sendEmailVerification","message","Container","Source","Form","onSubmit","Field","type","placeholder","onChange","Button","Login","push","signInWithEmailAndPassword","emailVerified","Logout","handleClick","useCollection","isSnapshot","data","setData","onSnapshot","snapshot","docs","ref","id","item","fetchData","get","map","LoadingContainer","Loading","loading","DefaultListItem","title","description","List","Item","Content","ListItem","ListComponent","items","renderItem","Segment","divided","relaxed","length","FriendsPage","users","InputCreate","setTitle","Input","color","add","stats","cards","CategoryPage","categories","useDcoument","InputEdit","categoryId","category","statKey","stat","updatedStat","update","cardKey","StatsPage","useParams","useDocument","Object","entries","IMG_NAMES","cardItem","card","setCard","htmlFor","countryCode","updatedCard","img","CardsPage","panes","menuItem","keys","Tab","ChallengePage","player2Id","form","setForm","values","find","x","p2User","u","pack","p1Id","p1Username","p2Id","p2Username","p1TurnNumber","p2TurnNumber","turnNumber","created","Date","now","GamesPage","games","filter","game","sort","b","p1CardCount","turns","p1Cards","p2CardCount","p2Cards","SignOut","circular","icon","images","ant","ben","dan","didun","dt","grant","mike","morgan","nick","pearce","rob","scouse","stevooo","sunny","will","vinnie","Row","status","selectedKey","onSelectStat","player","Table","key","Cell","positive","negative","warning","Card","selectedStatKey","disabled","celled","unstackable","selectable","style","width","marginLeft","HeaderCell","toUpperCase","textAlign","Flag","Body","colSpan","Image","src","fluid","localeCompare","reverse","useGame","gameId","currentUsername","opponentUsername","currentPlayer","Math","floor","random","hand1","numCards","i","index","splice","deal","updateCards","drawCards","playerTurnNumber","currentTurn","setCurrentTurn","handleNextTurn","useCallback","nextTurn","updateTurn","turn","turnKey","getTurn","turnPlayer","getTurnCards","selectedStat","setSelectedStat","handleSelectStat","params","handleTurn","p1UpdatedCards","p2UpdatedCards","drawUpdatedCards","p1TopCard","p1HandCards","p2TopCard","p2HandCards","p1Value","Number","p2Value","nextPlayer","topCards","p1TopCardKey","p2TopCardKey","debug","turnId","turnNo","p1TurnNo","p2TurnNo","table","playerNum","StyledMessage","align","Message","GamePage","resultMsg","currentEmoji","opponentEmoji","currentCard","opponentCard","href","HomePage","Router","SignIn","AboutPage","GameListPage","from","App","Boolean","window","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.9d34e08a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ant.2fe8faf8.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/ben.6cba428d.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/dan.abf052b9.jpeg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/didun.2cfccad8.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/grant.39b9be86.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/mike.006e457e.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/morgan.9c9ff2b1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/nick.c153051e.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/pearce.2064c0f2.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/rob.5110024b.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/scouse.d02204f4.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/stevooo.965acec9.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/sunny.c00e8603.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/will.32aef3bd.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/vinnie.bb7ff1a7.jpeg\";","import * as firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\n// @todo move to .env file\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDPk2j-y4TB9ex6MWD0jZmHXsN2aw6VZv4\",\n  authDomain: \"trumps-53976.firebaseapp.com\",\n  databaseURL: \"https://trumps-53976.firebaseio.com\",\n  projectId: \"trumps-53976\",\n  storageBucket: \"trumps-53976.appspot.com\",\n  messagingSenderId: \"822188667084\",\n  appId: \"1:822188667084:web:56d4680cf508a02ea55269\",\n  measurementId: \"G-FNX5HRRFLY\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nexport const db = firebase.firestore();\n\nexport const authenticateAnonymously = () => {\n  return auth.signInAnonymously();\n};\n\nexport function signUp(email, password) {\n  return auth.createUserWithEmailAndPassword(email, password);\n}\n\nexport function signIn(email, password) {\n  return auth.signInWithEmailAndPassword(email, password);\n}\n\nexport function signOut() {\n  return auth.signOut();\n}\n\nexport function onAuthStateChanged(user) {\n  return auth.onAuthStateChanged(user);\n}\n\nexport function getCollection(path) {\n  return db.collection(path);\n};\n\nexport function getUsers() {\n  return db.collection('users');\n};\n\nexport const getCard = id => {\n  return db\n    .collection('variant').doc('pioneers')\n    .collection('categories').doc('classic')\n    .collection('cards').doc('morgan')\n    .get();\n};\n\n// export const getCard = id => {\n//   return db.collection('cards')\n//       .doc(id)\n//       .get();\n// };","// import React, { createContext, useState, useEffect, useMemo, useContext } from \"react\";\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport * as firebase from 'firebase/app';\nimport { onAuthStateChanged } from '../services/firestore';\nimport { promises } from 'dns';\n\ntype AuthContextType = {\n  currentUser: firebase.User|null;\n}\n\nexport const AuthContext = createContext<AuthContextType|undefined>(undefined);\n\nfunction AuthProvider({ children }: any) {\n\n  const [currentUser, setCurrentUser] = useState<firebase.User|null>(null);\n\n  useEffect(() => {\n    const unsubsribe = onAuthStateChanged((user: any) => {\n      setCurrentUser(user);\n    });\n    return () => {\n      unsubsribe();\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{currentUser}}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport function useAuthContext() {\n  const value = useContext(AuthContext);\n  if (value === undefined) {\n     throw new Error('Expected context value to be set');\n  }\n  return value;\n}\n\nexport default AuthProvider;","import React from 'react';\nimport { Route, Redirect, RouteProps } from \"react-router-dom\";\nimport { useAuthContext } from './AuthProvider';\n\ntype PropType = RouteProps & {\n  component: any;\n}\n\nfunction AuthRoute({ component: Component, ...rest }: PropType) {\n  const {currentUser} = useAuthContext();\n  console.log('AUTH_ROUTE USER', currentUser);\n  return (\n    <Route \n      {...rest} \n      render={(routeProps) => (\n        !!currentUser ? (\n          <Component {...routeProps} />\n        ) : (\n          <Redirect to='/signin' />\n        )  \n    )} />\n  );  \n}\n\nexport default AuthRoute;","import React, { ReactChild } from 'react';\nimport { createTeleporter } from 'react-teleporter';\nimport styled from \"styled-components\";\nimport { useAuthContext } from '../components/AuthProvider';\nimport { Container, Icon } from 'semantic-ui-react';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst HeaderContainer = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  height: 50px;\n  background: #1b9a59;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n`;\n\nconst H1 = styled.h1`\n  color: white;\n  margin: 0;\n`;\n\nconst LeftAction = styled.div`\n  position: fixed;\n  left: 0;\n  margin-left: 5px;\n`;\n\nconst MainContainer = styled.div`\n  background: WhiteSmoke;\n  min-height: 100vh;\n  max-height: 100%;\n`;\n\nconst ContentContainer = styled.div`\n  padding-top: 60px;\n`;\n\nexport const Footer = styled.div`\n  position: fixed;\n  height: 50;\n  bottom: 0;\n  right: 0;\n  padding: 10px;\n`;\n\ntype PropsType = {\n  children: ReactChild;\n}\n\ntype LocationType = {\n  pathname: string;\n}\n\nexport const TitleBar = createTeleporter()\n\nfunction Header() {\n  const history = useHistory();\n  const location = useLocation<LocationType>();\n  console.log('LOCATION', location);\n  const showBackButton = !['/home', '/signin', '/singout'].includes(location.pathname);\n  return (\n    <HeaderContainer>\n      {showBackButton && <LeftAction onClick={() => history.goBack()}><Icon name='angle left' size='large' inverted/></LeftAction>}\n      <H1><TitleBar.Target /></H1>\n    </HeaderContainer>\n  )\n}\n\nfunction Layout(props: PropsType) {\n  const {children} = props;\n  const {currentUser} = useAuthContext();\n\n  return (\n    <MainContainer>\n      <Header/>\n      <ContentContainer>\n        {children}\n      </ContentContainer>\n    </MainContainer>\n  )\n}\n\nexport default Layout;","import React, { useState } from 'react';\nimport { Form, Button, Container } from 'semantic-ui-react';\nimport { db, signUp, signOut } from '../services/firestore';\nimport {TitleBar} from '../components/Layout';\n\nconst SignUp = () => {\n  // User State\n  const [user, setUser] = useState({\n    username: '',\n    email: '',\n    password: '',\n    error: '',\n  });\n\n  console.log('SIGN UP');\n\n  // onChange function\n  // const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n  const handleChange = (e: any) => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value,\n      error: '',\n    })\n  };\n\n  // Submit function (Create account)\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n    try {\n      const result = await signUp(user.email, user.password);\n      if (result?.user) {\n        console.log('USER', user);\n        await result.user.updateProfile({\n          displayName: user.username,\n        })\n\n        await db.collection('users').doc(result.user.uid).set({\n          username: user.username,\n          email: user.email\n        });\n\n        // URL of my website.\n        const myURL = { url: 'http://localhost:3000/' }\n\n        // Send Email Verification and redirect to my website.\n        await result.user.sendEmailVerification(myURL);\n\n        setUser({\n          ...user,\n          error: `Welcome ${user.username}. To continue please verify your email.`,\n        })\n\n        // Sign Out the user.\n        signOut();\n\n      }\n    } catch (e) {\n      setUser({\n        ...user,\n        error: e.message\n      })\n    }\n  }\n\n  return (\n    <Container>\n      <TitleBar.Source>Sign Up</TitleBar.Source>\n      <br></br>\n      <Form onSubmit={handleSubmit}>\n        <Form.Field>\n          <input type=\"text\" placeholder=\"Username\" name=\"username\" onChange={handleChange} /><br />\n        </Form.Field>\n        <Form.Field>\n          <input type=\"text\" placeholder=\"Email\" name=\"email\" onChange={handleChange} /><br />\n        </Form.Field>\n        <Form.Field>\n          <input type=\"password\" placeholder=\"Password\" name=\"password\" onChange={handleChange} /><br />\n        </Form.Field>\n      <Button type=\"submit\">Sign Up</Button>\n    </Form>\n      { user.error && <h4>{user.error}</h4> }\n    </Container>\n  )\n};\n\nexport default SignUp;","import React, { useState } from 'react';\nimport { signIn, signOut } from '../services/firestore';\nimport { Link } from \"react-router-dom\";\nimport { useAuthContext } from '../components/AuthProvider';\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Button, Container } from 'semantic-ui-react'\nimport {TitleBar} from '../components/Layout';\n\nfunction Login() {\n\n  const {currentUser} = useAuthContext();\n\n  const history = useHistory();\n\n  if (currentUser) {\n    history.push(\"/home\");\n  }\n\n  const [user, setUser] = useState({\n    email: '',\n    password: '',\n    error: '',\n  });\n\n  const handleChange = (e: any) => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value,\n      error: '',\n    })\n  };\n\n  // Submit function (Log in user)\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n    try {\n      const result = await signIn(user.email, user.password);\n      if (!result?.user?.emailVerified) {\n        setUser({\n          ...user,\n          error: 'Please verify your email before to continue',\n        });\n        await signOut();\n      } \n      history.push(\"/home\");\n    } catch (e) {\n      setUser({\n        ...user,\n        error: e.message,\n      })       \n    }\n  }\n\n  return (\n    <Container>\n      <TitleBar.Source>Log In</TitleBar.Source>\n      <br></br>\n      <Form onSubmit={handleSubmit}>\n        <Form.Field>\n          <input type=\"text\" placeholder=\"Email\" name=\"email\" onChange={handleChange}/><br />\n        </Form.Field>\n        <Form.Field>\n          <input type=\"password\" placeholder=\"Password\" name=\"password\" onChange={handleChange}/><br />\n        </Form.Field>\n        <Button type=\"submit\">Log in</Button>\n      </Form>\n      <br></br>\n      <Link to=\"/signup\">Sign up</Link>\n      {user.error && <h4>{user.error}</h4>}\n    </Container>\n  )\n};\n\nexport default Login;","import React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport { signOut } from '../services/firestore';\n\nconst Logout = () => {\n\n  // Log out function\n  const handleClick = async () => {\n    await signOut();\n  }\n\n  return (\n    <Button type=\"button\" onClick={handleClick}>Log Out</Button>\n  )\n};\n\nexport default Logout;","import { useEffect, useState } from \"react\";\nimport {db, getCollection} from '../services/firestore';\n\ntype item = {\n  id: string;\n  title?: string;\n  email?: string;\n\n}\n\nfunction useCollection<T>(path: string, isSnapshot: boolean = false) {\n  const [data, setData] = useState<T[]>();\n\n  useEffect(() => {\n    if (!path) return;\n \n    if (isSnapshot) {\n      return db.collection(path).onSnapshot(snapshot => {\n        const data: T[] = [];\n        const docs = snapshot.docs;\n        for (let doc of docs) {\n          console.log(`Document found at path: ${doc.ref.path}`);\n          const {id} = doc;\n          const item = doc.data() as T;\n          data.push({id, ...item})\n        }\n        setData(data);\n      });\n    }    \n\n    async function fetchData() {\n      const snapshot = await getCollection(path).get();         \n      const data = snapshot.docs.map(doc => {\n        console.log('DOC', doc.id, doc.data());\n        const {id} = doc;\n        const data = doc.data();\n        return {id, ...data}\n      });\n      console.log('DATA', data);\n      // @ts-ignore\n      setData(data);\n    }\n\n    fetchData();\n  }, [])\n\n  return data;\n}\n\nexport default useCollection;","import React from \"react\";\nimport { Container, Icon } from 'semantic-ui-react';\nimport styled from \"styled-components\";\n\nconst LoadingContainer = styled.div`\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: -70px;\n`;\n\nfunction Loading() {\n  return (\n    <LoadingContainer>\n      <Icon loading name='spinner' size='big' />\n    </LoadingContainer>\n  )\n}\n\nexport default Loading;","import React from 'react'\nimport { List, Segment } from 'semantic-ui-react';\nimport { Link } from \"react-router-dom\";\nimport Loading from '../components/Loading';\nimport {TitleBar} from '../components/Layout';\n\ntype PropsType = {\n  title: string;\n  items?: any[];  // @TODO type\n  renderItem?: (item: any) => JSX.Element;\n}\n\nfunction ListComponent({title, items, renderItem}: PropsType) {\n\n  if (!items) {\n    return (\n      <Loading/> \n    )\n  }\n\n  return (\n    <>\n      <TitleBar.Source>{title}</TitleBar.Source>\n      <Segment>\n        <List divided relaxed=\"very\" size=\"large\">\n          {items.length > 0 \n            ? items.map(renderItem ? renderItem : DefaultListItem)\n            : <ListItem>No games</ListItem>\n          }\n        </List>\n      </Segment>\n    </>\n  )\n}\n\ntype ListItemPropsType = {\n  title?: string;\n  description?: string;\n  url?: string;\n}\n\nfunction DefaultListItem({title, description, url}: ListItemPropsType) {\n  return (\n    <List.Item>\n      <List.Content>\n        <List.Header>\n          {url ? <Link to={url}>{title}</Link> : title}\n        </List.Header>\n         {description}\n      </List.Content>\n    </List.Item>\n  )\n}\n\nexport function ListItem({children}: any) {\n  return (\n    <List.Item>\n      <List.Content>\n        <List.Header>\n          {children} \n        </List.Header>\n      </List.Content>\n    </List.Item>\n  )\n}\n\nexport default ListComponent","import React from \"react\";\nimport useCollection from '../hooks/useCollection';\nimport List from '../components/List';\n\nfunction FriendsPage() {\n\n  const users = useCollection<any>('users');\n\n  const items = users?.map((user: any) => ({\n    title: `${user.username}`,\n    description: `${user.email}`,\n  }));\n\n  return (\n    <List title=\"Friends\" items={items}/>\n  )\n}\n\nexport default FriendsPage;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {db} from '../services/firestore';\nimport {CategoryType} from '../types';\nimport useCollection from '../hooks/useCollection';\nimport List, {ListItem} from '../components/List';\nimport { Form, Button, Container } from 'semantic-ui-react'\n\nfunction CategoryPage() {\n\n  const categories = useCollection<CategoryType>('categories', true);\n  console.log('CATS', categories);\n\n  return (\n    <Container>\n      <List \n        title=\"Packs\" \n        items={categories} \n        renderItem={(item) => (\n          <ListItem>\n            <span>{item.title}:  </span>\n            <Link to={`/category/${item?.id}/stats`}> Stats</Link> |\n            <Link to={`/category/${item?.id}/cards`}> Cards</Link>\n          </ListItem>\n      )}/>\n      <InputCreate/>\n    </Container>\n  )\n}\n\ntype CreatePropsType = {\n  category: {id: string; title?: string};\n}\n\n// function InputEdit({category}: CreatePropsType) {\n//   const [title, setTitle] = useState(category.title);\n\n//   function handleUpdate() {\n//     db.collection('categories').doc(category.id).set({...category, title});\n//   }\n\n//   return (\n//     <>\n//       <input \n//         value={title}\n//         onChange={e => {\n//           setTitle(e.target.value)\n//         }}\n//       />  \n//       <button onClick={handleUpdate}>Update</button>\n//     </>\n//   )\n// }\n\nfunction InputCreate() {\n  const [title, setTitle] = useState('');\n\n  function handleCreate() {\n    db.collection('categories').add({title, stats: {}, cards: {}})\n  }\n\n  return (\n    <Form>\n      <Form.Input>\n        <input \n          placeholder=\"New Pack\"\n          value={title}\n          onChange={e => {\n            setTitle(e.target.value)\n          }}\n        />  \n      </Form.Input>\n      <Button color=\"blue\" onClick={handleCreate}>Create</Button>\n    </Form>\n  )\n}\n\nexport default CategoryPage;","import { useEffect, useState } from \"react\";\nimport {db, getCollection} from '../services/firestore';\n\nfunction useDcoument<T>(path: string, id: string, isSnapshot: boolean = false) {\n  const [data, setData] = useState<T>();\n  console.log('USE DOC', data);\n\n  useEffect(() => {\n    if (!path) return;\n\n    if (isSnapshot) {\n      return db.collection(path).doc(id).onSnapshot(snapshot => {\n        const data = snapshot.data() as T;\n        console.log('SNAP SHOT', data);\n        setData(data);\n      });\n    }\n  \n    async function fetchData() {\n      const doc = await getCollection(path).doc(id).get();         \n      const data = doc.data() as T;\n      console.log('FETCH DATA', data);\n      setData(data);\n    }\n\n    fetchData();\n  }, [])\n\n  return data;\n}\n\nexport default useDcoument;","import React, { useEffect, useState } from \"react\";\nimport { db } from '../services/firestore';\nimport useDocument from '../hooks/useDocument';\nimport { useParams } from 'react-router-dom';\nimport { CategoryType, StatType } from '../types';\nimport { Form, Button, Container } from 'semantic-ui-react'\nimport { TitleBar } from '../components/Layout';\nimport Loading from '../components/Loading';\nimport List, {ListItem} from '../components/List';\n\nfunction StatsPage() {\n\n  const { categoryId } = useParams<{ categoryId: string }>();\n  const category = useDocument<CategoryType>('categories', categoryId, true);\n  console.log('USE DOC RESULT', category);\n\n  if (!category) {\n    return (\n      <Loading/>\n    )\n  }\n\n  return (\n    <Container>\n      <TitleBar.Source>Stats</TitleBar.Source>\n      <Form>\n        <InputCreate categoryId={categoryId} category={category} />\n        <hr/>\n        <br/>\n        {Object.entries(category.stats).map(([statKey, stat]) => (\n          <InputEdit categoryId={categoryId} category={category} statKey={statKey} stat={stat} />\n        ))}\n      </Form>\n    </Container>\n  )\n}\n\nfunction InputEdit({ categoryId, category, statKey, stat }: any) {\n  const [title, setTitle] = useState(stat.title);\n\n  function handleUpdate() {\n    const updatedStat: { [id: string]: StatType } = {};\n    updatedStat[`stats.${statKey}`] = { title };\n    db.collection('categories').doc(categoryId).update(updatedStat);\n  }\n\n  function handleDelete() {\n    delete category.stats[statKey];\n    // Remove stat from each card\n    for (let cardKey in category.cards) {\n      delete category.cards[cardKey][statKey];\n    }\n    db.collection('categories').doc(categoryId).set(category);\n  }\n\n  return (\n    <>\n      <Form.Field>\n        <input\n          value={title}\n          onChange={e => {\n            setTitle(e.target.value);\n          }}\n        />\n      </Form.Field>\n      <Button color=\"blue\" onClick={handleUpdate}>Update</Button>\n      <Button color=\"red\" onClick={handleDelete}>Delete</Button>\n      <br/><br/>\n    </>\n  )\n}\n\nfunction InputCreate({ categoryId, category }: { categoryId: string; category: CategoryType }) {\n  const [title, setTitle] = useState<string>('');\n\n  function handleCreate() {\n    category.stats[title] = { title };\n    db.collection('categories').doc(categoryId).set(category);\n  }\n\n  return (\n    <>\n      <Form.Field>\n        <input\n          value={title}\n          placeholder=\"New Stat\"\n          onChange={e => {\n            setTitle(e.target.value)\n          }}\n        />\n      </Form.Field>\n      <Button color=\"blue\" onClick={handleCreate}>Create</Button>\n      <br/><br/>\n    </>\n  )\n}\n\nexport default StatsPage;","import React, { useEffect, useState } from \"react\";\nimport { db } from '../services/firestore';\nimport useDocument from '../hooks/useDocument';\nimport { useParams } from 'react-router-dom';\nimport { CategoryType, CardType } from '../types';\nimport { Form, Button, Container, Tab } from 'semantic-ui-react'\nimport { TitleBar } from '../components/Layout';\nimport Loading from '../components/Loading';\n\nconst IMG_NAMES = ['ant', 'ben', 'dan', 'didun', 'dt', 'grant', 'mike', 'morgan', 'nick', 'pearce', 'rob', 'scouse', 'stevooo', 'sunny', 'will', 'vinnie'];\n\nfunction CardsPage() {\n\n  const { categoryId } = useParams<{ categoryId: string }>();\n  const category = useDocument<CategoryType>('categories', categoryId, true);\n  console.log('USE DOC RESULT', category);\n\n  if (!category) {\n    return (\n      <Loading />\n    )\n  }\n\n  const panes = [\n    {\n      menuItem: 'Create', render: () => (\n        <Container>\n          <Form>\n            <InputCreate categoryId={categoryId} category={category} />\n          </Form>\n        </Container>\n      )\n    },\n    {\n      menuItem: `Edit (${Object.keys(category.cards).length})`, render: () => (\n        <Container>\n          <Form>\n            {Object.entries(category.cards).map(([cardKey, card]) => (\n              <InputEdit categoryId={categoryId} category={category} cardKey={cardKey} cardItem={card} />\n            ))}\n          </Form>\n        </Container>\n      )\n    },\n  ];\n\n  return (\n    <>\n      <TitleBar.Source>Cards</TitleBar.Source>\n      <Tab panes={panes} />;\n    </>\n  );\n}\n\nfunction InputEdit({ categoryId, category, cardKey, cardItem }: { categoryId: string; category: CategoryType, cardKey: string, cardItem: CardType }) {\n  const [card, setCard] = useState<CardType>(cardItem);\n\n  const handleChange = (e: any) => {\n    setCard({\n      ...card,\n      [e.target.name]: e.target.value,\n    })\n  };\n\n  function handleUpdate() {\n    const updatedCard: { [id: string]: CardType } = {};\n    updatedCard[`cards.${cardKey}`] = card;\n    db.collection('categories').doc(categoryId).update(updatedCard);\n  }\n\n  function handleDelete() {\n    console.log('CAT PRE DELETE', category, cardKey);\n    delete category.cards[cardKey];\n    console.log('CAT POST DELETE', category);\n    db.collection('categories').doc(categoryId).set(category);\n  }\n\n  return (\n    <>\n      <br />\n      <Form.Field>\n        <label htmlFor=\"title\">Title</label>\n        <input\n          name=\"title\"\n          value={card.title}\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <br />\n      <Form.Field>\n        <label htmlFor=\"countryCode\">Country Code</label>\n        <select\n          name=\"countryCode\"\n          value={card.countryCode}\n          onChange={handleChange}\n        >\n          <option value=\"bb\">Barbados</option>\n          <option value=\"fr\">France</option>\n          <option value=\"ru\">Russia</option>\n          <option value=\"gb sct\">Scotland</option>\n          <option value=\"uk\">UK</option>\n          <option value=\"us\">USA</option>\n          <option value=\"gb wls\">Wales</option>\n        </select>\n      </Form.Field>\n      { Object.entries(category.stats).map(([statKey, stat]) => (\n        <>\n          <Form.Field>\n            <label htmlFor={statKey}>{stat.title}</label>\n            <input\n              name={statKey}\n              type=\"number\"\n              value={card[statKey]}\n              onChange={handleChange}\n            />\n          </Form.Field>\n          <br />\n        </>\n      ))}\n      <Button color=\"blue\" onClick={handleUpdate}>Update</Button>\n      <Button color=\"red\" onClick={handleDelete}>Delete</Button>\n      <br /><br />\n      <hr />\n    </>\n  )\n}\n\nfunction InputCreate({ categoryId, category }: { categoryId: string; category: CategoryType }) {\n  const [card, setCard] = useState<CardType>({\n    title: '',\n    countryCode: '',\n  });\n\n  const handleChange = (e: any) => {\n    setCard({\n      ...card,\n      [e.target.name]: e.target.value,\n    })\n  };\n\n  function handleCreate() {\n    category.cards[card.title] = card;\n    db.collection('categories').doc(categoryId).set(category);\n  }\n\n  return (\n    <>\n      <br />\n      <Form.Field>\n        <label htmlFor=\"title\">Title</label>\n        <input\n          name=\"title\"\n          value={card.title}\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <br />\n      <Form.Field>\n        <label htmlFor=\"countryCode\">Country Code</label>\n        <select\n          name=\"countryCode\"\n          value={card.countryCode}\n          onChange={handleChange}\n        >\n          <option value=\"bb\">Barbados</option>\n          <option value=\"fr\">France</option>\n          <option value=\"ru\">Russia</option>\n          <option value=\"gb sct\">Scotland</option>\n          <option value=\"uk\">UK</option>\n          <option value=\"us\">USA</option>\n          <option value=\"gb wls\">Wales</option>\n        </select>\n      </Form.Field>\n      <br />\n      <Form.Field>\n        <label htmlFor=\"img\">Image</label>\n        <select\n          name=\"img\"\n          value={card.img}\n          onChange={handleChange}\n        >\n          <option value=\"\">Select...</option>\n          {IMG_NAMES.map(img => (\n            <option value={img}>{img}</option>\n          ))}\n        </select>\n      </Form.Field>\n      <br />\n      { Object.entries(category.stats).map(([statKey, stat]) => (\n        <>\n          <Form.Field>\n            <label htmlFor={statKey}>{stat.title}</label>\n            <input\n              name={statKey}\n              type=\"number\"\n              onChange={handleChange}\n            />\n          </Form.Field>\n          <br />\n        </>\n      ))}\n      <Button color=\"blue\" onClick={handleCreate}>Create</Button>\n      <br /><br />\n    </>\n  )\n}\n\nexport default CardsPage;","import React, { useState } from \"react\";\nimport { db } from '../services/firestore';\nimport { useAuthContext } from '../components/AuthProvider';\nimport useCollection from '../hooks/useCollection';\nimport { CategoryType, UserType, GameFormType } from '../types';\nimport { Form, Button, Container } from 'semantic-ui-react';\nimport Loading from '../components/Loading';\nimport { TitleBar } from '../components/Layout';\nimport { useHistory } from \"react-router-dom\";\n\nconst IMG_NAMES = ['ant', 'ben', 'dan', 'didun', 'dt', 'grant', 'mike', 'morgan', 'nick', 'pearce', 'rob', 'scouse', 'stevooo', 'sunny'];\n\nfunction ChallengePage() {\n\n  const { currentUser } = useAuthContext();\n  const history = useHistory();\n  const categories = useCollection<CategoryType>('categories');\n  const users = useCollection<any>('users');\n\n  const [form, setForm] = useState<GameFormType>({ categoryId: '', player2Id: '' });\n\n  const handleChange = (e: any) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    })\n  };\n\n  async function handleCreate() {\n    const category = categories && Object.values(categories).find(x => x.id === form.categoryId);\n    if (category && currentUser) {\n      const p2User = users?.find(u => u.id === form.player2Id);\n      const doc = await db.collection('games').add({\n        pack: category,\n        p1Id: currentUser.uid,\n        p1Username: currentUser.displayName,\n        p2Id: form.player2Id,\n        p2Username: p2User.username,\n        p1TurnNumber: 0,\n        p2TurnNumber: 0,\n        turnNumber: 0,\n        created: Date.now(),\n      });\n      history.push(`/game/${doc.id}`);\n      // alert('CREATED GAME', doc));\n    }\n    // db.collection('forms').doc(categoryId).update(updatedCard);\n  }\n\n  console.log('CHALLENGE FORM', form);\n  console.log('CHALLENGE DATA', categories, users);\n\n  if (!categories || !users) {\n    return (\n      <Loading />\n    )\n  }\n\n  return (\n    <Container>\n      <TitleBar.Source>Challenge</TitleBar.Source>\n      <br/><br/>\n      <Form>\n        <Form.Field>\n          <label htmlFor=\"player2Id\">Friend</label>\n          <select\n            name=\"player2Id\"\n            value={form.player2Id}\n            onChange={handleChange}\n          >\n            <option value=\"\">Select...</option>\n            {Object.values(users).map((x: UserType) => (\n              <option value={x.id}>{x.username}</option>\n            ))}\n          </select>\n        </Form.Field>\n        <Form.Field>\n          <label htmlFor=\"categoryId\">Pack</label>\n          <select\n            name=\"categoryId\"\n            value={form.categoryId}\n            onChange={handleChange}\n          >\n            <option value=\"\">Select...</option>\n            {Object.values(categories).map((x: CategoryType) => (\n              <option value={x.id}>{x.title}</option>\n            ))}\n          </select>\n        </Form.Field>\n      </Form>\n      <br></br>\n      <Button color=\"blue\" onClick={handleCreate}>Create</Button>\n    </Container>\n  )\n}\n\n// function InputEdit({categoryId, category, cardKey, cardItem}:  {categoryId: string; category: CategoryType, cardKey: string, cardItem: CardType}) {\n//   const [card, setCard] = useState<CardType>(cardItem);\n\n//   const handleChange = (e: any) => {\n//     setCard({\n//       ...card,\n//       [e.target.name]: e.target.value,\n//     })\n//   };\n\n//   function handleUpdate() {\n//     const updatedCard: {[id: string]: CardType} = {}; \n//     updatedCard[`card.${cardKey}`] = card;\n//     db.collection('categories').doc(categoryId).update(updatedCard);\n//   }\n\n//   function handleDelete() {\n//     console.log('CAT PRE DELETE', category, cardKey);\n//     delete category.cards[cardKey];\n//     console.log('CAT POST DELETE', category);\n//     db.collection('categories').doc(categoryId).set(category);\n//   }\n\n//   return (\n//     <>\n//       <div>\n//         <label htmlFor=\"title\">Title</label>   \n//         <input \n//           name=\"title\"\n//           value={card.title}\n//           onChange={handleChange}\n//         />\n//       </div>\n//       <br/>  \n//       <div>\n//         <label htmlFor=\"countryCode\">Country Code</label>   \n//         <select\n//           name=\"countryCode\"\n//           value={card.countryCode}\n//           onChange={handleChange}\n//         >\n//           <option value=\"uk\">UK</option>\n//           <option value=\"us\">US</option>\n//         </select>\n//       </div>\n//         { Object.entries(category.stats).map(([statKey, stat])  => (\n//           <>    \n//             <div>\n//               <label htmlFor={statKey}>{stat.title}</label>   \n//               <input \n//                 name={statKey}\n//                 type=\"number\"\n//                 value={card[statKey]}\n//                 onChange={handleChange}\n//               />\n//             </div>\n//             <br/>            \n//           </>    \n//         ))} \n//       <button onClick={handleUpdate}>Update</button>\n//       <button onClick={handleDelete}>Delete</button>\n//       <br/>\n//     </>\n//   )\n// }\n\n// function InputCreate({categoryId, category}: {categoryId: string; category: CategoryType}) {\n//   const [card, setCard] = useState<CardType>({\n//     title: '',\n//     countryCode: '',\n//   });\n\n//   const handleChange = (e: any) => {\n//     setCard({\n//       ...card,\n//       [e.target.name]: e.target.value,\n//     })\n//   };\n\n//   function handleCreate() {\n//     category.cards[card.title] = card;\n//     db.collection('categories').doc(categoryId).set(category);\n//   }\n\n//   return (\n//     <>\n//       <div>\n//         <label htmlFor=\"title\">Title</label>   \n//         <input \n//           name=\"title\"\n//           value={card.title}\n//           onChange={handleChange}\n//         />\n//       </div>\n//       <br/>  \n//       <div>\n//         <label htmlFor=\"countryCode\">Country Code</label>   \n//         <select\n//           name=\"countryCode\"\n//           value={card.countryCode}\n//           onChange={handleChange}\n//         >\n//           <option value=\"uk\">UK</option>\n//           <option value=\"us\">US</option>\n//         </select>\n//       </div>\n//       <br/>  \n//       <div>\n//         <label htmlFor=\"img\">Image</label>   \n//         <select\n//           name=\"img\"\n//           value={card.img}\n//           onChange={handleChange}\n//         >\n//           {IMG_NAMES.map(img => (\n//             <option value={img}>{img}</option>\n//           ))}\n//           <option value=\"us\">US</option>\n//         </select>\n//       </div>\n//       <br/>        \n//         { Object.entries(category.stats).map(([statKey, stat])  => (\n//           <>    \n//             <div>\n//               <label htmlFor={statKey}>{stat.title}</label>   \n//               <input \n//                 name={statKey}\n\n//                 // value={stat.title}\n//                 onChange={handleChange}\n//               />\n//             </div>\n//             <br/>            \n//           </>    \n//         ))} \n//       <button onClick={handleCreate}>Add</button>\n//     </>\n//   )\n// }\n\nexport default ChallengePage;","import React from \"react\";\nimport useCollection from '../hooks/useCollection';\nimport { GameType } from '../types';\nimport List from '../components/List';\nimport {Footer} from '../components/Layout';\nimport SignOut from '../components/SignOut';\nimport { Button } from 'semantic-ui-react';\nimport { useHistory } from \"react-router-dom\";\nimport { useAuthContext } from '../components/AuthProvider';\n\nfunction GamesPage() {\n\n  const history = useHistory();\n  const {currentUser} = useAuthContext();\n  const games = useCollection<any>('games', true);\n  const items = games?.filter((game: GameType) => {\n    // const p1CardCount = game?.turns[`turn${game.turnNumber}`]?.p1Cards?.length;\n    // const p2CardCount = game?.turns[`turn${game.turnNumber}`]?.p2Cards?.length;   \n    // const inProgress = p1CardCount !== 0 && p2CardCount !== 0;\n    const hasCurrentUser = currentUser?.uid === game.p1Id || currentUser?.uid === game.p2Id;\n    return hasCurrentUser; \n  })\n  .sort((a, b) => (b.created - a.created))\n  .map((game: GameType) => {\n    const p1CardCount = game.turns[`turn${game.turnNumber}`]?.p1Cards?.length;\n    const p2CardCount = game.turns[`turn${game.turnNumber}`]?.p2Cards?.length;\n    return {\n      title: `${game?.p1Username} (${p1CardCount}) vs ${game?.p2Username} (${p2CardCount})`,\n      description: `${game?.pack?.title}: Round ${game?.turnNumber}`,\n      url: `/game/${game?.id}`\n    }\n  });\n\n  return (\n    <>\n      <List title=\"Games\" items={items} />\n      <SignOut/>\n      <Footer>\n        <Button circular\n          color='green'\n          icon='add'\n          size='huge'\n          onClick={() => history.push(`/challenge`)}\n        />\n      </Footer>\n    </>\n  )\n}\n\nexport default GamesPage;","import React from 'react';\nimport { Table, Image, Flag} from 'semantic-ui-react';\nimport { CardType, StatsType, StatParamType } from '../types';\nimport ant from '../img/ant.jpeg';\nimport ben from '../img/ben.jpeg';\nimport dan from '../img/dan.jpeg';\nimport dt from '../img/dt.jpeg';\nimport didun from '../img/didun.jpeg';\nimport grant from '../img/grant.jpeg';\nimport mike from '../img/mike.jpeg';\nimport morgan from '../img/morgan.jpeg';\nimport nick from '../img/nick.jpeg';\nimport pearce from '../img/pearce.jpeg';\nimport rob from '../img/rob.jpeg';\nimport scouse from '../img/scouse.jpeg';\nimport stevooo from '../img/stevooo.jpeg';\nimport sunny from '../img/sunny.jpeg';\nimport will from '../img/will.jpeg';\nimport vinnie from '../img/vinnie.jpeg';\n\nexport type ImagesType = {\n  [id: string]: any;\n}\n\nconst images: ImagesType = {\n  ant, ben, dan, didun, dt, grant, mike, morgan, nick, pearce, rob, scouse, stevooo, sunny, will, vinnie\n}\n\ntype PlayerType = null | 1 | 2;\n\ntype CardPropType = {\n  card: CardType;\n  stats: StatsType;\n  selectedStatKey: string | null | undefined;\n  disabled: boolean;\n  player: PlayerType;\n  result: undefined | null | 0 | 1 | 2;\n  onSelectStat: (params: StatParamType) => void;\n}\n\nfunction Card(props: CardPropType) {\n  const { card, stats, selectedStatKey, player, result, disabled } = props;\n  return (\n    <Table celled unstackable\n      size=\"small\"\n      selectable={!disabled}\n      style={{ width: '70%', marginLeft: 5 }\n      }>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>{card.title.toUpperCase()}</Table.HeaderCell>\n          <Table.HeaderCell textAlign='center'>\n            {card.countryCode && <Flag name={card.countryCode} />}\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row>\n          <Table.Cell colSpan='2'>\n            <Image src={images[card.img]} fluid />\n          </Table.Cell>\n        </Table.Row>\n        {\n          Object.entries(stats)\n          .sort((a, b) => b[0].localeCompare(a[0]))\n          .reverse()\n          .map(([statKey, stat]) => { // @TODO sort by key\n            const { title } = stat;\n            const value = card[statKey];\n            return (\n              <Row\n                key={statKey}\n                statKey={statKey}\n                selectedKey={selectedStatKey}\n                title={title}\n                value={value}\n                result={result}\n                player={player}\n                onSelectStat={() => props.onSelectStat({ statKey, title, value })}\n              />\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n\ntype StatusType = 'positive' | 'negative' | 'warning';\n\ntype RowPropType = {\n  title: string;\n  value: string | number;\n  statKey: string;\n  selectedKey: string | null | undefined;\n  player: PlayerType;\n  result: undefined | null | 0 | 1 | 2;\n  onSelectStat: (statKey: number) => void;\n}\n\nfunction Row(props: RowPropType) {\n  const {title, value, statKey, selectedKey, onSelectStat, result, player} = props;\n  let status: StatusType | undefined;\n  if (statKey === selectedKey && result === 0) {\n    status = 'warning';\n  } else if (statKey === selectedKey && result === player) {\n    status = 'positive';\n  } else if (statKey === selectedKey && result !== player) {\n    status = 'negative';\n  }\n  return (\n    <Table.Row key={statKey} onClick={onSelectStat}>\n      <Cell status={status}>\n        {title}\n      </Cell>\n      <Cell status={status}>\n        {value}\n      </Cell>\n    </Table.Row>\n  )\n}\n\ntype CellPropType = {\n  status?: StatusType;\n  children: any;\n}\n\nfunction Cell(props: CellPropType) {\n  const { status, children } = props;\n  return (\n    <Table.Cell\n      positive={status === 'positive'}\n      negative={status === 'negative'}\n      warning={status === 'warning'}\n    >\n      {children}\n    </Table.Cell>\n  );\n}\n\nexport default Card;","import React, { useEffect, useCallback, useState } from \"react\";\nimport {useParams} from 'react-router-dom';\nimport {db} from '../services/firestore';\nimport useDocument from '../hooks/useDocument';\nimport {CardsType, GameType, StatParamType} from '../types';\nimport Card from '../components/Card';\nimport { useAuthContext } from '../components/AuthProvider';\nimport {TitleBar, Footer} from '../components/Layout';\nimport { Button, Container } from 'semantic-ui-react';\nimport Loading from '../components/Loading';\nimport styled from 'styled-components';\n\nfunction useGame(gameId: string) {\n\n  const game = useDocument<GameType>('games', gameId, true);\n  const stats = game?.pack.stats;\n  const [error, setError] = useState<string>();\n\n  // console.log('GAME', gameId, game);\n\n  // CURRENT PLAYER\n  const {currentUser} = useAuthContext();\n  const uid = currentUser?.uid;\n  let currentPlayer: null|1|2 = null;\n  let currentUsername;\n  let opponentUsername;\n  if (game?.p1Id === uid) {\n    currentPlayer = 1;\n    currentUsername = game?.p1Username;\n    opponentUsername = game?.p2Username;\n  } else if (game?.p2Id === uid) {\n    currentPlayer = 2;\n    currentUsername = game?.p2Username;\n    opponentUsername = game?.p1Username;\n  }\n  //  else {\n  //   currentPlayer = 1;\n  //   game && setError('You are not a player in this game!')\n  // }\n  const startingPlayer = Math.floor(Math.random() * 2) + 1;\n\n  // Shuffle and deal cards - should be a serverless cloud function but that requires a Blaze payment plan :(\n  useEffect(() => {\n    const cards = game?.pack?.cards;\n    const turns = game?.turns;\n    if (!cards || turns) return;\n    const [p1Cards, p2Cards] = deal(cards);\n    async function updateCards() {\n      await db.collection('games').doc(gameId).update({\n        turnNumber: 1,\n        p1TurnNumber: 1,\n        p2TurnNumber: 1,\n        \"turns.turn1\":  {\n          id: 1,\n          player: 1,\n          // player: startingPlayer,\n          p1Cards, \n          p2Cards,\n          drawCards: [],\n          statKey: null,\n          result: null,\n        }  \n      });\n    }\n    updateCards();    \n  }, [gameId, game]);  // @TODO change game to cards\n\n  // TURN\n  let turnNumber = game?.turnNumber;\n  const playerTurnNumber: number = game ? game[`p${currentPlayer}TurnNumber`] : 1;\n\n  let [currentTurn, setCurrentTurn] = useState<number>(playerTurnNumber); // rename to playerTurn\n  if (currentTurn !== playerTurnNumber) {\n    setCurrentTurn(playerTurnNumber);\n  }\n\n  const handleNextTurn = useCallback(() => {\n    const nextTurn = currentTurn+1;\n    if (nextTurn > turnNumber) {\n      console.log('HANDLE NEXT TURN STOP?', nextTurn, turnNumber);\n      // return null;\n    }\n    async function updateTurn() {\n      await db.collection('games').doc(gameId).update({\n        [`p${currentPlayer}TurnNumber`]: nextTurn,\n      });\n    }\n    updateTurn();   \n    setCurrentTurn(nextTurn);\n  } , [currentTurn, currentPlayer]);\n  \n  if (!currentPlayer) {\n    console.error('PLAYER NOT FOUND');\n  }\n\n  const turn = game && getTurn(game, currentTurn);\n  const turnPlayer = turn?.player;\n  const p1Cards = game && getTurnCards(game, currentTurn, 1);\n  const p2Cards = game && getTurnCards(game, currentTurn, 2);\n  const drawCards = game && getTurnCards(game, currentTurn, 0);\n\n  console.log('DRAW CARDS', drawCards);\n\n  // STATS\n  const [selectedStat, setSelectedStat] = useState<StatParamType|null>(null);\n\n  const handleSelectStat = useCallback((params: StatParamType) => {\n    if (turnPlayer === currentPlayer) {\n      setSelectedStat(params); \n    } \n  }, [turnPlayer, currentPlayer]);\n\n  const handleTurn = useCallback(() => {\n    if (!selectedStat || p1Cards.length === 0 || p2Cards.length === 0) {\n      return null;\n    }\n    let result: number;\n    let p1UpdatedCards: string[];\n    let p2UpdatedCards: string[];\n    let drawUpdatedCards: string[] = [];\n\n    const {statKey} = selectedStat;\n    const [p1TopCard, ...p1HandCards] = p1Cards;\n    const [p2TopCard, ...p2HandCards] = p2Cards;\n    const p1Value = Number(game?.pack.cards[p1TopCard][statKey]);\n    const p2Value = Number(game?.pack.cards[p2TopCard][statKey]);\n\n    if (!p1Value || !p2Value) {\n      return null;\n    }\n\n    if (p1Value > p2Value) {\n      result = 1;\n      p1UpdatedCards = [...p1HandCards, p2TopCard, ...drawCards, p1TopCard];\n      p2UpdatedCards = [...p2HandCards]\n    } else if (p1Value < p2Value) {\n      result = 2;\n      p1UpdatedCards = [...p1HandCards];\n      p2UpdatedCards = [...p2HandCards, p1TopCard, ...drawCards, p2TopCard]\n    } else { // @TODO make first condition ===\n      result = 0;\n      p1UpdatedCards = [...p1HandCards];\n      p2UpdatedCards = [...p2HandCards]; \n      drawUpdatedCards = drawCards.length > 0 ? [...drawCards, p1TopCard, p2TopCard] : [p1TopCard, p2TopCard];\n    }\n\n    async function updateTurn() {\n      if (currentTurn == undefined) {\n        console.log('TURN COUNT UNDEFINED');\n        return null;\n      }\n      const nextTurn = currentTurn + 1;\n      const nextPlayer = result === 0 ? currentPlayer : result;\n      await db.collection('games').doc(gameId).update({\n        [`turns.turn${currentTurn}.statKey`]: statKey,\n        [`turns.turn${currentTurn}.result`]: result,\n        [`turns.turn${nextTurn}`]: {\n          id: nextTurn,\n          player: nextPlayer, \n          p1Cards: p1UpdatedCards,\n          p2Cards: p2UpdatedCards,\n          drawCards: drawUpdatedCards,\n          statKey: null,\n          result: null,\n        },\n        turnNumber: nextTurn,\n      });\n    }\n    updateTurn();\n    \n    setSelectedStat(null);\n\n  }, [selectedStat, game, p1Cards, p2Cards, drawCards, currentTurn]);\n\n  if (!game || !p1Cards || !p2Cards) return {game, turn, currentTurn, currentPlayer, topCards: [], handleSelectStat};\n  const [p1TopCardKey] = p1Cards; \n  const p1TopCard = game?.pack.cards[p1TopCardKey];\n  const [p2TopCardKey] = p2Cards; \n  const p2TopCard = game?.pack.cards[p2TopCardKey];\n  const topCards = [p1TopCard, p2TopCard];\n\n  const debug = {\n    turnId: turn?.id, \n    turnNo: game.turnNumber,\n    p1TurnNo: game.p1TurnNumber,\n    p2TurnNo: game.p2TurnNumber,\n    currentPlayer, \n    turnPlayer, \n    turn\n  };\n\n  console.table({turnId: turn?.id, \n    turnNo: game.turnNumber,\n    p1TurnNo: game.p1TurnNumber,\n    p2TurnNo: game.p2TurnNumber,\n    currentPlayer, \n    turnPlayer,\n  });\n  console.table(game?.turns);\n  \n  console.log(debug);\n\n  console.log((selectedStat && !turn?.result), selectedStat, !turn?.result);\n\n  return {game, error, turn, currentTurn, turnPlayer, currentPlayer, currentUsername, opponentUsername, topCards, selectedStat, handleSelectStat, handleTurn, handleNextTurn, debug};\n}\n\nfunction deal(items: CardsType) {\n  let hand1 = [];\n  let hand2 = [];\n  const cards = Object.keys(items);\n  const numCards = cards.length / 2;\n\n  for (let i = 0; i < numCards; i++) {\n   const index = Math.floor(Math.random() * numCards);\n   const [item] = cards.splice(index, 1);\n   hand1.push(item);\n  }\n  hand2 = cards;\n  return [hand1, hand2];\n}\n\nfunction getTurn(game: GameType, turn: number) {\n  if (!game.turns || turn === 0) return null;\n  const turnKey = `turn${turn}`;\n  return turnKey in game.turns ? game.turns[turnKey] : null;\n}\n\nfunction getTurnCards(game: GameType, turn: number, playerNum: null|0|1|2) {\n  if (!game.turns || turn === 0) return [];\n  if (playerNum === 0) return game.turns[`turn${turn}`][`drawCards`]; \n  console.log('TURN DUMP', turn);\n  return game.turns[`turn${turn}`][`p${playerNum}Cards`];\n}\n\nfunction GamePage() {\n\n  const {gameId} = useParams<{gameId:string}>();\n  // const gameId = 'HBqQxN5sDoLwqiGkABRu';\n\n  const {game, error, turn, currentTurn, turnPlayer, currentPlayer, currentUsername, opponentUsername, topCards, selectedStat, handleSelectStat, handleTurn, handleNextTurn, debug} = useGame(gameId);\n  const [p1TopCard, p2TopCard] = topCards;\n\n  const currentCard = currentPlayer === 1 ? p1TopCard : p2TopCard;\n  const opponentCard = currentPlayer === 1 ? p2TopCard : p1TopCard;\n  const statKey = turn?.statKey;\n\n  let resultMsg;\n  let currentEmoji;\n  let opponentEmoji;\n\n  if (turn?.result === currentPlayer) {\n    resultMsg = 'You won the round! ✅';\n    currentEmoji = '😃';\n    opponentEmoji = '😢';\n  } else if (turn?.result === 0) {\n    resultMsg = 'You drew the round! ↔️';\n    currentEmoji = '😮';\n    opponentEmoji = '😮';\n  } else if (turn?.result) {\n    resultMsg = 'You lost the round! ❌';\n    currentEmoji = '😢';\n    opponentEmoji = '😃';\n  }\n\n  if (!game) return (\n    <Loading/> \n  );\n\n  // if (error) return (\n  //   <Message username=\"Games Master\">{error}</Message>\n  // );  \n\n  if (!currentCard && !opponentCard) {\n    return (\n      <>\n        <TitleBar.Source>Game Over!</TitleBar.Source>\n        <Message username=\"Games Master\" color=\"green\">Good game! It's a draw! 🤷‍♂️</Message>\n      </>\n    )\n    } else if (!opponentCard) {\n    return (\n      <>\n        <TitleBar.Source>Game Over!</TitleBar.Source>\n        <Message username=\"Games Master\" color=\"green\">Good game! {currentUsername} wins! 🎉</Message>\n      </>\n    )\n  } else if (!currentCard) {\n    return (\n      <>\n        <TitleBar.Source>Game Over!</TitleBar.Source>\n        <Message username=\"Games Master\" color=\"green\">Good game! {opponentUsername} wins! ☠️</Message>\n      </>\n    )\n  }\n  return (\n    <Container>\n    <TitleBar.Source>Game On!</TitleBar.Source>\n    {currentPlayer === turnPlayer ? (\n      <Message username=\"Games Master\" color=\"green\">Round {currentTurn}. Your turn {currentUsername}. Tap that stat!</Message>\n    ) : (\n      <Message username=\"Games Master\" color=\"green\">Round {currentTurn}. {opponentUsername}'s turn.</Message>\n    )}\n    {statKey && (\n      <>\n        {currentPlayer === turnPlayer ? (\n          <>\n            <Message username={currentUsername} align=\"right\" color=\"CornflowerBlue\">{game.pack.stats[statKey].title}: {currentCard[statKey]}</Message>\n            <Message username={opponentUsername} color=\"orange\">{game.pack.stats[statKey].title}: {opponentCard[statKey]} {opponentEmoji}</Message>\n          </>\n        ) : (\n          <>\n            <Message username={opponentUsername} color=\"orange\">{game.pack.stats[statKey].title}: {opponentCard[statKey]}</Message>\n            <Message username={currentUsername} align=\"right\" color=\"CornflowerBlue\">{game.pack.stats[statKey].title}: {currentCard[statKey]} {currentEmoji}</Message>\n          </>\n        )}        \n      </>\n    )}         \n    {resultMsg && (\n      <Message username=\"Games Master\" color=\"green\">{resultMsg}</Message>\n    )}\n    { currentCard && \n      <Card \n        card={currentCard} \n        stats={game.pack.stats}\n        selectedStatKey={turn?.statKey}\n        player={currentPlayer}\n        result={turn?.result && turn.result} // TODO fix\n        onSelectStat={handleSelectStat}\n        disabled={(turn?.result != null || turnPlayer !== currentPlayer)}\n      />\n     }\n     {/* <pre>\n       {JSON.stringify(debug, null, 2)}\n     </pre>      */}\n     <Footer>\n      {/* {(!selectedStat || !turn?.result) && 'You have X Cards in your hand'}  */}\n      {/* {(selectedStat || turn?.result === null) && ( */}\n      {(selectedStat && currentTurn === game.turnNumber && currentPlayer === turnPlayer) && (\n        <Button circular color='green' icon='play' size='huge' onClick={handleTurn} />\n      )}     \n      {(currentTurn < game.turnNumber && turn?.result != null) && ( \n        <Button circular color='green' icon='fast forward' size='huge' onClick={handleNextTurn} />\n      )}    \n     </Footer>\n    </Container>\n  )\n}\n\nconst StyledMessage = styled.div<{align: 'left'|'right', color: string}>`\n  float: ${props => props.align === 'right' ? 'right' : 'left' };\n  width: 90%;\n  margin: 5px;\n  padding: 5px;\n  border-radius: ${props => props.align === 'right' ? '10px 0px 10px 10px' : '0px 10px 10px 10px' };\n  background: ${props => props.align === 'right' ? '#dcf8c6' : 'white' };\n  border: 1px solid grey;\n  color: ${props => props.color};\n`;\n\nfunction Message({username, children, align = 'left', color}: {username: string, children: any; align?: 'left'|'right', color: string}) {\n  return (\n    <StyledMessage align={align} color={color}>\n      <b>{username}:</b><br/>\n      <span style={{color: 'black'}}>{children}</span>\n    </StyledMessage>\n  )  \n}\n\nexport default GamePage;","import React from \"react\";\nimport useCollection from '../hooks/useCollection';\nimport List from '../components/List';\nimport { TitleBar } from '../components/Layout';\nimport {Container} from 'semantic-ui-react';\n\nfunction FriendsPage() {\n\n  return (\n    <Container>\n      <TitleBar.Source>About</TitleBar.Source>\n      <h2>Top Trumps</h2>\n      <p>This is a classic Top Trumps game of the of the Pioneers for the Pioneers.</p>\n      <p>You can create your own pack of cards with custom stats and play your friends over the interwebs.</p>\n      <p>Each game will run the current version of the pack of cards you select.</p>\n      <p>You can play in realtime or by correspondence.</p>\n      <p>If you have any suggestion for improvments or bug reports please whatsapp or email <a href=\"mailto:djthomson@gmail.com\">DT</a></p>\n      <h2>Release v1.0.0 The Flying Scotsman</h2>\n      <ul>\n        <li>User Authentication</li>\n        <li>2 player mode using Firebase Cloud DB with realtime updates</li>\n        <li>Create and manage card packs</li>\n        <li>Whats app mobile theme</li>\n      </ul>\n    </Container>\n  )\n}\n\nexport default FriendsPage;","import React from \"react\";\nimport { Route, Switch, Link, Redirect } from \"react-router-dom\";\nimport AuthRoute from './AuthRoute';\nimport { useAuthContext } from './AuthProvider';\nimport SignUp from './SignUp';\nimport SignIn from './SignIn';\nimport SignOut from './SignOut';\n// import Game from './Game.txt';\nimport FriendsPage from '../pages/FriendsPage';\nimport CategoryPage from '../pages/CategoryPage';\nimport StatsPage from '../pages/StatsPage';\nimport CardsPage from '../pages/CardsPage';\nimport ChallengePage from '../pages/ChallengePage';\nimport GameListPage from '../pages/GamesPage';\nimport GamePage from '../pages/GamePage';\nimport AboutPage from '../pages/AboutPage';\nimport List from '../components/List';\nimport {Footer} from '../components/Layout';\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from 'semantic-ui-react';\n\n\nfunction HomePage() {\n  const listItems = [\n    {title: 'Games', url: '/games'},\n    {title: 'Packs', url: '/categories'},\n    {title: 'Friends', url: '/friends'},\n    {title: 'About', url: '/about'},\n  ];\n  const history = useHistory();\n\n  return (\n    <> \n      <List title=\"Top Trumps 🛋️\" items={listItems}/>\n      <SignOut/>\n      <Footer>\n        <Button circular \n          color='green' \n          icon='add' \n          size='huge' \n          onClick={() => history.push(`/challenge`)} \n        />\n     </Footer>      \n    </> \n  )\n}    \n\nfunction Router() {\n  // return <FriendsPage/>\n  return (\n    <Switch>\n\n       {/* Public Routes */}\n      <Route path=\"/signup\" component={SignUp} />\n      <Route path=\"/signin\" component={SignIn} />\n\n       {/* Private Routes */}\n      {/* <AuthRoute path=\"/home\" component={GameListPage} />\n      <AuthRoute path=\"/challenge\" component={ChallengePage} />\n      <AuthRoute path=\"/game/:gameId\" component={GamePage} /> */}\n\n      <AuthRoute path=\"/home\" component={HomePage} />\n      <AuthRoute path=\"/about\" component={AboutPage} />\n      <AuthRoute path=\"/friends\" component={FriendsPage} />\n      <AuthRoute path=\"/categories\" component={CategoryPage} />\n      <AuthRoute path=\"/challenge\" component={ChallengePage} />\n      <AuthRoute path=\"/games\" component={GameListPage} />\n      <AuthRoute path=\"/game/:gameId\" component={GamePage} />\n      <AuthRoute path=\"/category/:categoryId/stats\" component={StatsPage} />\n      <AuthRoute path=\"/category/:categoryId/cards\" component={CardsPage} />\n      <AuthRoute path=\"/signout\" component={SignOut} />\n\n      <Redirect from=\"/\" to=\"/signin\" />\n    </Switch>\n  )\n};\n\nexport default Router;","import React, { useEffect } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n// import Layout from \"components/layout\";\nimport Router from \"./components/Router\";\nimport { signUp } from './services/firestore';\nimport SignUp from './components/SignUp';\nimport SignIn from './components/SignIn';\nimport Layout from './components/Layout';\nimport AuthProvider from './components/AuthProvider';\n\nfunction App() {\n\n  return (\n    <BrowserRouter>\n      {/* <Layout> */}\n      <AuthProvider>\n        <Layout>\n          <Router />\n        </Layout>\n      </AuthProvider>\n      {/* </Layout> */}\n    </BrowserRouter>\n  )\n};\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}